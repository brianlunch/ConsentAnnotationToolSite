(this.webpackJsonpConsentAnnotationToolSite=this.webpackJsonpConsentAnnotationToolSite||[]).push([[0],{261:function(e,t,n){},262:function(e,t,n){},289:function(e,t,n){},299:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},313:function(e,t,n){},314:function(e,t,n){},317:function(e,t){},319:function(e,t){},361:function(e,t){},362:function(e,t){},496:function(e,t,n){},500:function(e,t,n){},501:function(e,t,n){},502:function(e,t,n){},508:function(e,t,n){},509:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n(3),s=n.n(a),i=n(73),c=n.n(i),r=(n(289),n(76)),l=n(31),h=n(263),d=Object(h.a)(),u=n(138),j=n.n(u),b=n(264),m=n(61),p=n(140),f=(n(299),n(265)),g=n(45),x=function(e){e.user;var t=Object(a.useState)(!0),n=Object(m.a)(t,2),s=n[0],i=n[1],c=Object(a.useState)("collapse navbar-collapse"),l=Object(m.a)(c,2),h=l[0],d=l[1],u=Object(a.useState)("navbar-toggler navbar-toggler-right collapsed"),x=Object(m.a)(u,2),v=x[0],O=x[1],w=Object(a.useState)("navbar navbar-expand-lg fixed-top "),y=Object(m.a)(w,2),k=y[0],N=y[1];function C(){return(C=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(!s);case 2:t=s?"navbar-toggler navbar-toggler-right collapsed":"navbar-toggler navbar-toggler-right",d(s?"collapse navbar-collapse":"collapse navbar-collapse show"),O(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(f.useScrollPosition)((function(e){e.prevPos;e.currPos.y<30?N("navbar navbar-expand-lg fixed-top  active "):N("navbar navbar-expand-lg fixed-top ")})),Object(o.jsx)("nav",{className:k,children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsx)("h3",{children:"Consent Annotation Tool"}),Object(o.jsx)("button",{onClick:function(){return C.apply(this,arguments)},className:"".concat(v),type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(o.jsx)(g.a,{size:20,color:"black"})}),Object(o.jsx)("div",{className:"".concat(h),id:"navbarResponsive",children:Object(o.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(r.c,{className:"nav-link",exact:!0,activeClassName:"nav-link--active",to:"/",children:"Home"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(p.Link,{className:"nav-link",activeClass:"active",to:"info",spy:!0,smooth:!0,offset:-60,duration:500,children:"About"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(r.c,{className:"nav-link",exact:!0,activeClassName:"nav-link--active",to:"report",children:"Report Site"})}),Object(o.jsx)("li",{className:"nav-item",children:Object(o.jsx)(r.c,{className:"nav-link",exact:!0,activeClassName:"nav-link--active",to:"reported",children:"Reoported Sites"})})]})})]})})},v=n(35),O=n(36),w=n(38),y=n(37),k=(n(307),function(e){Object(w.a)(n,e);var t=Object(y.a)(n);function n(e){var o;return Object(v.a)(this,n),(o=t.call(this,e)).state={},o}return Object(O.a)(n,[{key:"render",value:function(){return Object(o.jsxs)("div",{className:"headerItem",children:[Object(o.jsx)("h1",{children:this.props.children}),Object(o.jsx)("h2",{children:this.props.title})]})}}]),n}(s.a.Component)),N=function(e){var t=e.title,n=e.subtitle;return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{className:"display-1",children:t}),Object(o.jsx)("h3",{children:n})]})},C=(n(308),function(e){Object(w.a)(n,e);var t=Object(y.a)(n);function n(e){var o;return Object(v.a)(this,n),(o=t.call(this,e)).state={},o}return Object(O.a)(n,[{key:"render",value:function(){return Object(o.jsx)("div",{className:"header",id:"home",children:Object(o.jsxs)("div",{class:"row text-center justify-content-center",children:[Object(o.jsxs)("div",{class:"col-12",children:[Object(o.jsx)(N,{title:"Consent Annotation Tool",subtitle:"A tool to link legal clauses to user highlighted issues in consent dialogues."}),Object(o.jsx)("br",{})]}),Object(o.jsx)("div",{class:"col-12 card-deck text-center justify-content-center",children:Object(o.jsxs)("div",{class:"row justify-content-center",children:[Object(o.jsx)("div",{class:"col-3",children:Object(o.jsx)(p.Link,{activeClass:"active",to:"info",spy:!0,smooth:!0,offset:-60,duration:500,children:Object(o.jsx)(k,{title:"Chrome Extension",children:Object(o.jsx)(g.d,{})})})}),Object(o.jsx)("div",{class:"col-3",children:Object(o.jsx)(r.b,{to:"report",children:Object(o.jsx)(k,{title:"How to Use",children:Object(o.jsx)(g.f,{})})})}),Object(o.jsx)("div",{class:"col-3",children:Object(o.jsx)(k,{title:"Project Github",children:Object(o.jsx)(g.e,{})})})]})})]})})}}]),n}(s.a.Component)),S=(n(309),function(){return Object(o.jsxs)("div",{className:"info text-left row justify-content-center",id:"info",children:[Object(o.jsx)("h3",{className:"display-4 text-center col-12",children:" Find Out More"}),Object(o.jsxs)("div",{className:"AboutContent col-10",children:[Object(o.jsx)("h3",{children:"Project Background"}),Object(o.jsx)("p",{children:"The GDPR lays out specific requirements on how to request and collect consent \u2013 something a lot of websites get wrong. With limited human and technological resources, it is difficult for researchers, activists and authorities to manually inspect all websites for compliance. This project can help solve this by allowing the internet community to report GDPR violations without legal knowledge which allows for the crowdsourcing of possible GDPR violations on a larger scale than before."}),Object(o.jsx)("h3",{children:"Project Privacy"}),Object(o.jsx)("p",{children:"The tool collects no data from the user. It collects no personal data, none of the screenshotted images or any of the user generated documents. All data processing of the users annotations and document generation takes place client-side ensuring complete anonymity and privacy"}),Object(o.jsx)("h3",{children:"Project Implementation"}),Object(o.jsx)("p",{children:"The project consists of two parts, the chrome extension and the annotation tool. For information on how to use the tool click here"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:Object(o.jsxs)("p",{children:["The ",Object(o.jsx)("b",{children:"chrome extension"})," allows users to screenshot their browser  to capture consent dialogue boxes they feel may be violating the law. Users can take as many screenshots necessary before right clicking the chrome extension icon and opening them in the annotation tool."]})}),Object(o.jsx)("li",{children:Object(o.jsxs)("p",{children:["The ",Object(o.jsx)("b",{children:"annotation tool "}),"allows users to highlight areas of the image and use checkboxes and text boxes to describe what they feel is wrong with the higlighted area. A report is generated linking the issues they highlighted to the relevant legal clauses so the user can report these possible violations to the relevant authorities."]})})]}),Object(o.jsx)("p",{children:"All issues in the checkboxes and generated documents can be fully customised as they are generated from JSON files within the project. These can be edited by following the instructions in the github repo"}),Object(o.jsx)("p",{children:"The annotation tool can be used in isolation to highlighted issues with images stored on your computer, here."})]})]})}),A=function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(x,{className:"navbarC"}),Object(o.jsx)(C,{className:"header"}),Object(o.jsx)(S,{})]})},T=n(83),D=n(51),I=n(26),P=n(22),R=n(97),M=(n(313),n(110)),E=[{domain:"Regular Language",terms:[{value:"Consent Buttons are different colours.",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"},{lawName:"Article 7(5)",lawDescription:" 2 Assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]},{value:"There is no reject button.",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]},{value:"I do not know what I am consenting to.",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]},{value:"Choice 'accept all' is pre-highlighted",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]}]},{domain:"Law",terms:[{value:"Law Consent Buttons are different colours.",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"},{lawName:"Article 7(5)",lawDescription:" 2 Assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]},{value:"Law There is no reject button.",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]},{value:"Law I do not know what I am consenting to.",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]},{value:"Law Choice 'accept all' is pre-highlighted",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]}]},{domain:"UI",terms:[{value:"UI Consent Buttons are different colours.",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"},{lawName:"Article 7(5)",lawDescription:" 2 Assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]},{value:"UI There is no reject button.",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]},{value:"UI I do not know what I am consenting to.",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]},{value:"UI Choice 'accept all' is pre-highlighted",laws:[{lawName:"Article 7(4)",lawDescription:"When assessing whether consent is freely given, utmost account shall be taken of whether\u2026 the performance of a contract, including the provision of a service, is conditional on consent to the processing of personal data that is not necessary for the performance of that contract"}]}]}];n(314),E[0];function L(e,t,n){return void 0!=e.issues[t]&&(1==e.issues[t].issue[n]||void 0)}var G,W=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),s=n[0],i=n[1],c=Object(a.useState)(0),r=Object(m.a)(c,2),l=r[0],h=r[1];e.issues.some((function(t){return t.id==e.annotation.data.id}))||function(e,t,n){for(var o=[],a=[],s=0;s<E[t].terms.length;s++)o.push(!1),a.push(" ");var i={id:n,domain:t,displayName:0,issue:o,comments:a,open:!1};e.issues.push(i),console.log(e)}(e,l,e.annotation.data.id);return Object(o.jsx)("div",{className:"",children:Object(o.jsxs)("div",{onMouseOver:e.mouseOver(e.annotation.data.id),onMouseOut:e.mouseOut(e.annotation.data.id),className:"annotationIssue ",children:[Object(o.jsxs)("div",{onClick:function(){return i(!s)},"aria-controls":e.annotation.data.id,"aria-expanded":s,className:"issueHeader row",name:e.annotation.data.id,children:[Object(o.jsx)("div",{class:"col-2 text-left text-theme",children:Object(o.jsx)("h4",{children:e.annotation.data.text+1})}),Object(o.jsx)("div",{class:"col-10 text-right text-theme",children:Object(o.jsx)("h4",{className:"",children:s?Object(o.jsx)(g.c,{}):Object(o.jsx)(g.b,{})})})]}),Object(o.jsx)(M.a,{in:s,className:"options",children:Object(o.jsxs)("div",{id:e.annotation.data.id,children:[Object(o.jsx)("p",{children:"Domain:"}),Object(o.jsx)("select",{onChange:function(t){h(t.target.value),function(e,t,n){for(var o=0;o<e.issues[t].issue.length;o++)e.issues[t].issue[o]=!1,e.issues[t].comments[o]=" ";e.issues[t].domain=n,console.log(e.issues)}(e,e.annotation.data.text,l)},className:"custom-select mr-sm-2",id:"inlineFormCustomSelect",name:"duration",children:E.map((function(e,t){return Object(o.jsx)("option",{value:t,children:e.domain})}))}),E[l].terms.map((function(t,n){return Object(o.jsxs)("div",{class:"form-check",children:[Object(o.jsxs)("form",{onChange:function(t){return function(e,t,n){var o=t.target.name;if(e.issues.some((function(e){return e.id==t.target.id}))){var a=e.issues[e.issues.findIndex((function(e){return e.id==t.target.id}))].issue,s=e.issues[e.issues.findIndex((function(e){return e.id==t.target.id}))].comments;a[o]=!a[o];var i={id:t.target.id,domain:n,displayName:t.target.name,issue:a,comments:s,open:!1};e.issues[e.issues.findIndex((function(e){return e.id==i.id}))]=i}else{for(var c=[],r=[],l=0;l<E[n].terms.length;l++)c.push(!1),r.push(" ");c[o]=!c[o];var h={id:t.target.id,domain:n,displayName:t.target.name,issue:c,comments:r,open:!1};e.issues.push(h),console.log("why am i here")}console.log(e.issues)}(e,t,l)},children:[Object(o.jsx)("input",{class:"form-check-input",type:"checkbox",checked:void 0!=e.issues&&void 0!=e.issues[e.annotation.data.text]?e.issues[e.annotation.data.text].issue[n]:null,name:n,id:e.annotation.data.id,value:t.value}),Object(o.jsx)("label",{class:"form-check-label",for:"exampleRadios1",children:t.value})]}),L(e,e.annotation.data.text,n)?Object(o.jsxs)("form",{onChange:function(t){return function(e,t,n){var o=t.target.name;console.log(o);var a=e.issues[e.issues.findIndex((function(e){return e.id==t.target.id}))].issue;a[o]=!0;var s=e.issues[e.issues.findIndex((function(e){return e.id==t.target.id}))].comments;console.log(t.target.value),s[o]=t.target.value;var i={id:t.target.id,domain:n,displayName:t.target.name,issue:a,comments:s,open:!1};e.issues[e.issues.findIndex((function(e){return e.id==i.id}))]=i,console.log(e)}(e,t,l)},children:[Object(o.jsx)("label",{className:"addComs",children:"Additional Comments"}),Object(o.jsx)("br",{}),Object(o.jsx)("textarea",{className:"inputAddComm",name:n,id:e.annotation.data.id})]}):null]})}))]})})]},e.annotation.data.id)})},z=n(18),H=z.e.create((G={title:{margin:20,fontSize:25,textAlign:"center",backgroundColor:"#e4e4e4",textTransform:"uppercase",fontFamily:"Roboto"},text:{margin:12,fontSize:2},body:{flexGrow:1},row:{flexGrow:1,flexDirection:"row"},block:{width:"100%",marginBottom:20}},Object(I.a)(G,"text",{margin:7,fontSize:12}),Object(I.a)(G,"textItalic",{width:"60%",margin:10,fontFamily:"Roboto",fontStyle:"italic",textAlign:"justify"}),Object(I.a)(G,"fill1",{width:"40%",backgroundColor:"#e14427"}),Object(I.a)(G,"fill2",{flexGrow:2,backgroundColor:"#e6672d"}),Object(I.a)(G,"fill3",{flexGrow:2,backgroundColor:"#e78632"}),Object(I.a)(G,"fill4",{flexGrow:2,backgroundColor:"#e29e37"}),G)),U=function(e){console.log(e);var t=e.issues;return Object(o.jsx)(z.a,{children:Object(o.jsxs)(z.d,{size:"A4",style:H.page,children:[Object(o.jsx)(z.f,{children:"Consent Report"}),Object(o.jsx)(z.g,{children:Object(o.jsxs)(z.g,{style:H.block,children:[Object(o.jsx)(z.f,{children:"Url: "}),Object(o.jsx)(z.f,{children:"Time of screenshot: "})]})}),Object(o.jsx)(z.g,{style:H.block,children:Object(o.jsx)(z.f,{children:"Image Issues"})}),e.tester,Object(o.jsx)(z.g,{children:t.map((function(e,t){return Object(o.jsxs)(z.g,{style:H.block,children:[Object(o.jsx)(z.f,{children:t}),Object(o.jsx)(z.f,{children:"-"}),E.map((function(t,n){return Object(o.jsx)(z.g,{children:e.issue[n]?Object(o.jsxs)(z.g,{style:H.block,children:[Object(o.jsx)(z.f,{children:t.value}),Object(o.jsxs)(z.f,{style:H.text,children:["Relevant Articles: ",t.law]}),Object(o.jsxs)(z.f,{style:H.text,children:["Description: ",t.lawDescription]}),Object(o.jsxs)(z.f,{style:H.text,children:["Additional Comments: ",e.comments[n]]})]}):null})})),Object(o.jsx)(z.f,{})]})}))})]})})};var B=function(e){return Object(o.jsxs)("div",{className:" text-left maxH col-11 align-items-start",children:[Object(o.jsx)("br",{}),e.annotations.map((function(t){return Object(o.jsx)(W,{annotation:t,mouseOver:e.onMouseOver,mouseOut:e.onMouseOut,issues:e.issues})}))]})},F=(n(496),n(50)),Y=0,J=function(e){var t=e.children,n=e.geometry,a=e.style;return Object(o.jsx)("div",{style:Object(P.a)(Object(P.a)({},a),{},{position:"absolute",left:"".concat(n.x,"%"),top:"".concat(n.y,"%"),height:"".concat(n.height,"%"),width:"".concat(n.width,"%")}),children:t})};function q(e){var t=e.annotation,n=(e.active,e.type,t.geometry);return n?n.type==F.RectangleSelector.TYPE?Object(o.jsx)(J,{geometry:n,style:{background:"rgba(255, 255, 255, 0.5)",border:"solid 1px red"}}):n.type==F.PointSelector.TYPE?Object(o.jsx)(J,{geometry:n,style:{background:"transparent",border:"solid 10px green"}}):void 0:null}function K(e){var t,n,a=e.annotation,s=e.active,i=a.geometry;return i?i.type==F.RectangleSelector.TYPE?Object(o.jsx)(J,{geometry:i,style:(t={border:"solid 3px black",boxShadow:s&&"inset 0 0 0 5px red",color:s&&"red",fontSize:s&&20},Object(I.a)(t,"fontSize",20),Object(I.a)(t,"fontWeight",700),t),children:a.data.text+1},a.data.id):Object(o.jsx)(J,{geometry:i,style:(n={border:"solid 3px lime",height:60,color:"lime",width:60,backgroundColor:"lime",boxShadow:s&&"inset 0 0 0 3px red"},Object(I.a)(n,"color",s&&"red"),Object(I.a)(n,"fontSize",s&&30),n),children:a.data.text},a.data.id):null}function _(e){e.annotation}function Q(e){var t=e.annotation.geometry;return t?Object(o.jsxs)("div",{style:{background:"white",borderRadius:3,position:"absolute",left:"".concat(t.x,"%"),top:"".concat(t.y+t.height,"%")},className:"text-left bg-white",children:[Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"btn btn-outline-dark",onClick:function(t){return e.onChange(Object(P.a)(Object(P.a)({},e.annotation),{},{data:Object(P.a)(Object(P.a)({},e.annotation.data),{},{text:Y})}),e.onSubmit)},children:"Confirm"})]}):null}function V(){return Object(o.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",color:"white",padding:5,pointerEvents:"none",position:"absolute",top:5,left:5}})}a.Component,n(500);var X=[{name:"default",template:'\n<br/>\n<h1>Consent Issues Report</h1> \n<br/>\n<p>This report highlights the issues found in the consent dialogue box on the website <a target="_blank" href={{url}}>{{url}}</a> as of {{time}}.</p>\n<p>The issues are highlighted in the image above. Each highlighted area has been annotated and automatically associated with the laws it may have violated.</p>\n<br/>\n\n{{#boxes}} \n<div style ="border:1px solid black; padding: 2%;"> \n<h2>Highligted Issue #{{number}}</h2> \n<p><b>Domain Used: </b> {{domain}}</p>\n\n{{#issues}} \n<br/>\n<h4>Issue Name: {{name}}</h4> \n<p>User Comments:{{cmnt}}</p> \n\n<ul> \n{{#laws}} \n<li> \n<h5>Law Name: {{lawName}}</h5> \n<p>Law Description: {{lawDescription}}</p> \n</li> \n{{/laws}} \n</ul> \n{{/issues}}\n</div> \n{{/boxes}} \n\n'},{name:"GDPR",template:'\n<h1>GDPR Template</h1> \n<div className ="boxBorder"> \n{{#boxes}}\n<h1>{{number}} - {{domain}}- GDPR</h1> \n<br/> \n{{#issues}} \n<h3>Issue Name: {{name}}</h3> \n<p>User Comments:{{cmnt}}</p> \n\n<ul> \n{{#laws}} \n<li> \n<h5>Law Name: {{lawName}}</h5> \n<p>Law Description: {{lawDescription}}</p> \n</li> \n{{/laws}} \n</ul> \n{{/issues}} \n{{/boxes}} \n</div>\n'}],Z=(n(261),n(282)),$=n.n(Z),ee=0,te=function(e){var t=e.children,n=e.geometry,a=e.style;return Object(o.jsx)("div",{style:Object(P.a)(Object(P.a)({},a),{},{position:"absolute",left:"".concat(n.x,"%"),top:"".concat(n.y,"%"),height:"".concat(n.height,"%"),width:"".concat(n.width,"%")}),children:t})};function ne(e){var t=e.annotation,n=(e.active,e.type,t.geometry);return n?n.type==F.RectangleSelector.TYPE?Object(o.jsx)(te,{geometry:n,style:{background:"rgba(255, 255, 255, 0.5)",border:"solid 1px red"}}):n.type==F.PointSelector.TYPE?Object(o.jsx)(te,{geometry:n,style:{background:"transparent",border:"solid 10px green"}}):void 0:null}function oe(e){var t,n,a=e.annotation,s=e.active,i=a.geometry;return i?i.type==F.RectangleSelector.TYPE?Object(o.jsx)(te,{geometry:i,style:(t={border:"solid 3px black",boxShadow:s&&"inset 0 0 0 5px red",color:s&&"red",fontSize:s&&20},Object(I.a)(t,"fontSize",20),Object(I.a)(t,"fontWeight",700),t),children:a.data.text+1},a.data.id):Object(o.jsx)(te,{geometry:i,style:(n={border:"solid 3px lime",height:60,color:"lime",width:60,backgroundColor:"lime",boxShadow:s&&"inset 0 0 0 3px red"},Object(I.a)(n,"color",s&&"red"),Object(I.a)(n,"fontSize",s&&30),n),children:a.data.text},a.data.id):null}function ae(e){e.annotation}function se(e){var t=e.annotation.geometry;return t?Object(o.jsxs)("div",{style:{background:"white",borderRadius:3,position:"absolute",left:"".concat(t.x,"%"),top:"".concat(t.y+t.height,"%")},className:"text-left bg-white",children:[Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"btn btn-outline-dark",onClick:function(t){return e.onChange(Object(P.a)(Object(P.a)({},e.annotation),{},{data:Object(P.a)(Object(P.a)({},e.annotation.data),{},{text:ee})}),e.onSubmit)},children:"Confirm"})]}):null}function ie(){return Object(o.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",color:"white",padding:5,pointerEvents:"none",position:"absolute",top:5,left:5}})}var ce=function(e){Object(w.a)(n,e);var t=Object(y.a)(n);function n(e){var o;return Object(v.a)(this,n),(o=t.call(this,e)).onMouseOver=function(e){return function(t){o.setState({activeAnnotations:[].concat(Object(D.a)(o.state.activeAnnotations),[e])})}},o.onMouseOut=function(e){return function(t){var n=o.state.activeAnnotations.indexOf(e);o.setState({activeAnnotations:[].concat(Object(D.a)(o.state.activeAnnotations.slice(0,n)),Object(D.a)(o.state.activeAnnotations.slice(n+1)))})}},o.clearAll=function(){ee=0,o.setState({annotations:[],issues:[]})},o.activeAnnotationComparator=function(e,t){return e.data.id===t},o.onSubmit=function(e){var t=e.geometry,n=e.data;o.setState({annotation:{},annotations:o.state.annotations.concat({geometry:t,data:Object(P.a)(Object(P.a)({},n),{},{id:Math.random()})})}),ee++},o.onChange=function(e,t){o.setState({annotation:e},t)},o.onChangeType=function(e){o.setState({annotation:{},type:e.currentTarget.innerHTML})},o.getStyle=function(e){return{textDecoration:"underline"}},o.renderHello=function(e,t,n,o,a){var s=[];e.issues.map((function(e,t){var n=[];e.issue.map((function(t,o){if(1==t){var a=[];E[e.domain].terms[o].laws.map((function(e){e={lawName:e.lawName,lawDescription:e.lawDescription};a.push(e)}));var s={name:E[e.domain].terms[o].value,cmnt:e.comments[o],laws:a};n.push(s)}}));var o={number:t+1,domain:E[e.domain].domain,issues:n};s.push(o)})),console.log(JSON.stringify(s));var i={url:o,time:a,boxes:s};console.log(i);var c="mustache"+t;console.log(n);var r=$.a.render(X[n].template,i);null!=document.getElementById(c)&&(document.getElementById(c).innerHTML=r)},o.state={annotations:[],annotation:{},activeAnnotations:[],issues:[],idk:[],template:0},o}return Object(O.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.img!==e.img&&this.clearAll()}},{key:"render",value:function(){var e=this.props.props;return console.log(this.props),this.renderHello(e,this.props.i,this.props.template,this.props.url,this.props.time),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"text-left doc",children:[Object(o.jsx)("h4",{children:"Screenshot "+this.props.i}),Object(o.jsx)(R.a,{src:this.props.img,id:"target2",className:"docPic",annotations:e.annotations,activeAnnotationComparator:this.activeAnnotationComparator,activeAnnotations:e.activeAnnotations,type:this.state.type,value:this.state.annotation,onChange:this.onChange,onSubmit:this.onSubmit,renderSelector:ne,renderEditor:se,renderHighlight:oe,renderContent:ae,renderOverlay:ie}),Object(o.jsx)("div",{id:"mustache"+this.props.i,children:Object(o.jsx)("h1",{})})]})})}}]),n}(a.Component),re=0,le=function(e){var t=e.children,n=e.geometry,a=e.style;return Object(o.jsx)("div",{style:Object(P.a)(Object(P.a)({},a),{},{position:"absolute",left:"".concat(n.x,"%"),top:"".concat(n.y,"%"),height:"".concat(n.height,"%"),width:"".concat(n.width,"%")}),children:t})};function he(e){var t=e.annotation,n=(e.active,e.type,t.geometry);return n?n.type==F.RectangleSelector.TYPE?Object(o.jsx)(le,{geometry:n,style:{background:"rgba(255, 255, 255, 0.5)",border:"solid 1px red"}}):n.type==F.PointSelector.TYPE?Object(o.jsx)(le,{geometry:n,style:{background:"rgba(255, 255, 255, 0.5)",border:"solid 10px green"}}):void 0:null}function de(e){var t,n=e.annotation,a=e.active,s=n.geometry;if(!s)return null;if(s.type==F.RectangleSelector.TYPE){var i;window.matchMedia("print");return Object(o.jsx)(le,{geometry:s,style:(i={border:"solid 3px ",background:"rgba(255, 255, 255, 0.3)",boxShadow:a&&"inset 0 0 0 5px red",color:a&&"red",fontSize:a&&20},Object(I.a)(i,"fontSize",20),Object(I.a)(i,"fontWeight",700),i),children:n.data.text+1},n.data.id)}return Object(o.jsx)(le,{geometry:s,style:(t={border:"solid 3px lime",height:60,color:"lime",width:60,backgroundColor:"lime",boxShadow:a&&"inset 0 0 0 3px red"},Object(I.a)(t,"color",a&&"red"),Object(I.a)(t,"fontSize",a&&30),t),children:n.data.text},n.data.id)}function ue(e){e.annotation}function je(e){var t=e.annotation.geometry;return t?Object(o.jsxs)("div",{style:{background:"white",borderRadius:3,position:"absolute",left:"".concat(t.x,"%"),top:"".concat(t.y+t.height,"%")},className:"text-left bg-white",children:[Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"btn btn-outline-dark",onClick:function(t){return e.onChange(Object(P.a)(Object(P.a)({},e.annotation),{},{data:Object(P.a)(Object(P.a)({},e.annotation.data),{},{text:re})}),e.onSubmit)},children:"Confirm"})]}):null}function be(){return Object(o.jsx)("div",{style:{background:"rgba(0, 0, 0, 0.3)",color:"white",padding:5,pointerEvents:"none",position:"absolute",top:5,left:5}})}var me=function(e){Object(w.a)(n,e);var t=Object(y.a)(n);function n(e){var o;return Object(v.a)(this,n),(o=t.call(this,e)).onMouseOver=function(e){return function(t){o.setState({activeAnnotations:[].concat(Object(D.a)(o.state.activeAnnotations),[e])})}},o.onMouseOut=function(e){return function(t){var n=o.state.activeAnnotations.indexOf(e);o.setState({activeAnnotations:[].concat(Object(D.a)(o.state.activeAnnotations.slice(0,n)),Object(D.a)(o.state.activeAnnotations.slice(n+1)))})}},o.clearAll=function(e){re=0,o.setState({annotations:[],issues:[]})},o.activeAnnotationComparator=function(e,t){return e.data.id===t},o.onSubmit=function(e,t){console.log(e);var n=e.geometry,a=e.data;o.setState({annotation:{},annotations:o.state.annotations.concat({geometry:n,data:Object(P.a)(Object(P.a)({},a),{},{id:Math.random()})})}),re++},o.onChange=function(e,t){o.setState({annotation:e},t)},o.onChangeType=function(e){o.setState({annotation:{},type:e.currentTarget.innerHTML})},o.handleChangeDD=function(e){console.log("ns")},o.state={annotations:[],annotation:{},activeAnnotations:[],issues:[],idk:[],template:0},o}return Object(O.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.img!==e.img&&this.clearAll()}},{key:"render",value:function(){var e=this;return re=this.state.issues.length,Object(o.jsxs)("div",{className:"",children:[Object(o.jsxs)("div",{class:"row annotateRow no-print",children:[Object(o.jsxs)("div",{class:"col-8 imageSide",children:[Object(o.jsx)("div",{className:"annotation col-12",children:Object(o.jsx)(R.a,{src:this.props.img,id:"target"+this.props.i,alt:"Two pebbles anthropomorphized holding hands",annotations:this.state.annotations,activeAnnotationComparator:this.activeAnnotationComparator,activeAnnotations:this.state.activeAnnotations,type:this.state.type,value:this.state.annotation,onChange:this.onChange,onSubmit:this.onSubmit,renderSelector:he,renderEditor:je,renderHighlight:de,renderContent:ue,renderOverlay:be})}),Object(o.jsx)("br",{}),Object(o.jsxs)("div",{className:"row align-items-end",children:[Object(o.jsxs)("div",{className:"col-6 text-left ",children:[Object(o.jsx)("p",{children:"Image source: "+this.props.url}),Object(o.jsx)("p",{className:"m-0",children:"Time Captured: "+this.props.time})]}),Object(o.jsxs)("div",{class:"col-6 text-left",children:[Object(o.jsx)("i",{children:"Choose a Document Template (Preview Below):"}),Object(o.jsx)("select",{onChange:function(t){return e.setState({template:t.target.value})},className:"custom-select2 mr-sm-2",id:"inlineFormCustomSelect",name:"duration",children:X.map((function(e,t){return Object(o.jsx)("option",{value:t,children:e.name})}))}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{className:"btn btn-theme w-100",onClick:function(e){window.print()},children:"Save Document"})]})]})]}),Object(o.jsxs)("div",{class:"col-4  text-left",children:[Object(o.jsxs)("div",{className:"row",children:[Object(o.jsx)("h4",{className:"col-7 text-theme",children:"Annotations"}),Object(o.jsx)("div",{class:"col-4 text-right",children:Object(o.jsx)("button",{className:"btn-theme btn ",onClick:this.clearAll,children:"Clear All"})})]}),Object(o.jsx)(B,{className:"",image:this.props.img,annotations:this.state.annotations,activeAnnotations:this.state.activeAnnotations,issues:this.state.issues,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut})]}),Object(o.jsx)("h3",{children:"Document Preview - Screenshot "+this.props.i})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("br",{}),Object(o.jsx)(ce,{props:this.state,img:this.props.img,id:"capture",i:this.props.i,url:this.props.url,time:this.props.time,template:this.state.template})]})]})}}]),n}(a.Component),pe=(n(501),n.p+"static/media/IrishTimes.537ec91e.PNG"),fe=n.p+"static/media/consent.70ce054d.png",ge=n.p+"static/media/test.65e2846b.jpg",xe=n(283),ve=n(192),Oe=(n(502),n.p+"static/media/HowTo.9a383530.gif"),we=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),s=n[0],i=n[1];return Object(o.jsx)("div",{className:"row no-print justify-content-center ",children:Object(o.jsxs)("div",{className:"col-11 help",children:[Object(o.jsxs)("div",{onClick:function(){i(!s),document.getElementById("gif").src="",document.getElementById("gif").src=Oe},"aria-controls":"help","aria-expanded":s,className:"issueHeader row",name:"help",children:[Object(o.jsx)("div",{class:"col-9 text-left text-themes",children:Object(o.jsx)("h4",{children:"How do I use this tool?"})}),Object(o.jsx)("div",{class:"col-3 text-right text-themes",children:Object(o.jsx)("h4",{className:"",children:s?Object(o.jsx)(g.c,{}):Object(o.jsx)(g.b,{})})})]}),Object(o.jsx)(M.a,{in:s,className:"",children:Object(o.jsxs)("div",{id:"help",className:"row helpContent",children:[Object(o.jsxs)("div",{className:"col-6 text-left",children:[Object(o.jsx)("p",{children:"The purpose of this tool is to highlight problematic areas of a consent dialogue box, note the issues with the highlighted areas and generate documenatation that associates your notations with legal clauses and articles"}),Object(o.jsx)("h4",{children:"Instructions"}),Object(o.jsxs)("ul",{children:[Object(o.jsx)("li",{children:"Click and drag to highlight a possibly problematic area of your screenshot, click 'confirm' to create an annotation box on the right."}),Object(o.jsx)("li",{children:"Select an appropriate domain and use the checkboxes in the annotation box to note what the issue is."}),Object(o.jsx)("li",{children:"Choose a document template, view the preview and save the generated document to your device."})]})]}),Object(o.jsx)("div",{className:"col-6",children:Object(o.jsx)("img",{className:"gif",id:"gif",src:Oe})})]})})]})})},ye=function(e){Object(w.a)(n,e);var t=Object(y.a)(n);function n(e){var o;return Object(v.a)(this,n),(o=t.call(this,e)).printState=function(){console.log(o.state)},o.imgChange=function(e){o.setState({file:URL.createObjectURL(e.target.files[0])},o.printState)},o.state={file:null},o.imgChange=o.imgChange.bind(Object(T.a)(o)),o.printState=o.printState.bind(Object(T.a)(o)),o}return Object(O.a)(n,[{key:"render",value:function(){var e=[{img:pe,url:"www.",time:"24/03/2021 18:00 GMT"},{img:fe,url:"www.",time:"24/03/2021 18:00 GMT"},{img:ge,url:"www.",time:"24/03/2021 18:00 GMT"}];return Object(o.jsxs)("div",{className:"report",children:[Object(o.jsx)(we,{className:"no-print"}),Object(o.jsx)("div",{class:"row",children:Object(o.jsx)("div",{class:"col-12",children:Object(o.jsxs)("div",{className:"imgAnnot row",children:[Object(o.jsx)(xe.a,{defaultActiveKey:"0",className:"no-print",id:"uncontrolled-tab-example",children:void 0!=e?e.map((function(e,t){return Object(o.jsx)(ve.a,{eventKey:t,title:"Screenshot "+(t+1),children:Object(o.jsx)(me,{img:e.img,i:t,url:e.url,time:e.time})})})):null}),Object(o.jsxs)("p",{className:"genMsg",children:["This doc was generated by ",Object(o.jsx)("a",{href:"https://brianlunch.github.io/ConsentAnnotationToolSite/#/",children:"https://brianlunch.github.io/ConsentAnnotationToolSite/#/"})]})]})})})]})}}]),n}(s.a.Component),ke=(n(262),function(e){Object(w.a)(n,e);var t=Object(y.a)(n);function n(e){var o;return Object(v.a)(this,n),(o=t.call(this,e)).state={},o}return Object(O.a)(n,[{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)(ye,{})})}}]),n}(s.a.Component));var Ne=function(e){Object(w.a)(n,e);var t=Object(y.a)(n);function n(e){var o;return Object(v.a)(this,n),(o=t.call(this,e)).state={},o}return Object(O.a)(n,[{key:"render",value:function(){return Object(o.jsx)("div",{children:Object(o.jsx)("div",{className:"report",children:Object(o.jsx)("div",{class:"row",children:Object(o.jsx)("div",{class:"col-12",children:Object(o.jsx)("div",{className:"imgAnnot",children:Object(o.jsx)(me,{img:pe})})})})})})}}]),n}(s.a.Component),Ce=(n(507),n(508),function(e){Object(w.a)(n,e);var t=Object(y.a)(n);function n(e){var o;return Object(v.a)(this,n),(o=t.call(this,e)).state={},o.pdfTing=o.pdfTing.bind(Object(T.a)(o)),o}return Object(O.a)(n,[{key:"pdfTing",value:function(){z.h.render(Object(o.jsx)(U,{}),"./example.pdf")}},{key:"render",value:function(){return Object(o.jsxs)("div",{children:[Object(o.jsx)(x,{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:this.pdfTing,children:"PDF"}),Object(o.jsx)(z.c,{children:Object(o.jsx)(U,{})}),Object(o.jsx)(z.b,{document:Object(o.jsx)(U,{}),fileName:"fee_acceptance.pdf",children:function(e){e.blob,e.url;var t=e.loading;e.error;return t?"Loading document...":"Download now!"}})]})}}]),n}(s.a.Component));var Se=function(){return console.log("/ConsentAnnotationToolSite"),Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(r.a,{basename:"/ConsentAnnotationToolSite",history:d,children:Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/",component:A}),Object(o.jsx)(l.a,{exact:!0,path:"/report",component:ke}),Object(o.jsx)(l.a,{exact:!0,path:"/reported",component:Ce}),Object(o.jsx)(l.a,{exact:!0,path:"/study",component:Ne})]})})})},Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,511)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),o(e),a(e),s(e),i(e)}))};c.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(Se,{})}),document.getElementById("root")),Ae()}},[[509,1,2]]]);
//# sourceMappingURL=main.0a1a6100.chunk.js.map